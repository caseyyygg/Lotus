<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Support - Lotus Brew Café</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="https://i.ibb.co/7x9jFQtH/icon.png">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #bc9f7d;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }

        .navbar {
            background-color: #3c1006;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-align: center;
        }

        .nav-button {
            padding: 8px 15px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            color: white;
            font-size: 16px;
            transition: 0.3s;
        }

        .nav-button:hover {
            background-color: #bc9f7d;
        }

        .social-icon {
            background-color: #fff;
            color: #a27246;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-icon:hover {
            transform: translateY(-2px);
            background-color: whitesmoke;
            color: #4a332f;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .support-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .support-header h1 {
            color: #fff;
            font-size: 35px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .support-header p {
            color: #fff;
            font-size: 18px;
            opacity: 0.9;
        }

        .chat-container {
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            max-width: 800px;
            margin: 0 auto;
        }

        .chat-header {
            background-color: #3c1006;
            color: white;
            padding: 20px;
            text-align: center;
        }

        .chat-header h2 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
        }

        .chat-header p {
            margin: 5px 0 0 0;
            opacity: 0.8;
            font-size: 14px;
        }

        .initial-form {
            padding: 30px;
            display: block;
        }

        .initial-form.hidden {
            display: none;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #3c1006;
            font-weight: 500;
            font-size: 16px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #bc9f7d;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .start-chat-btn {
            background-color: #3c1006;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }

        .start-chat-btn:hover {
            background-color: #4a332f;
            transform: translateY(-2px);
        }

        .chat-interface {
            display: none;
            flex-direction: column;
            height: 500px;
        }

        .chat-interface.active {
            display: flex;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #f8f9fa;
            border-bottom: 1px solid #ddd;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px 15px;
            border-radius: 18px;
            max-width: 70%;
            word-wrap: break-word;
            animation: fadeIn 0.3s ease-in;
        }

        .message.user {
            background-color: #3c1006;
            color: white;
            margin-left: auto;
            text-align: right;
        }

        .message.support {
            background-color: #bc9f7d;
            color: white;
            margin-right: auto;
        }

        .message-time {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 5px;
        }

        .chat-input-container {
            padding: 20px;
            background-color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            font-family: 'Poppins', sans-serif;
            outline: none;
        }

        .chat-input:focus {
            border-color: #bc9f7d;
        }

        .send-btn {
            background-color: #3c1006;
            color: white;
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .send-btn:hover {
            background-color: #4a332f;
            transform: scale(1.1);
        }

        .typing-indicator {
            display: none;
            padding: 10px 15px;
            background-color: #e9ecef;
            border-radius: 18px;
            margin-right: auto;
            max-width: 100px;
            margin-bottom: 15px;
        }

        .typing-indicator.show {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        .typing-dots {
            display: flex;
            gap: 3px;
        }

        .typing-dots span {
            width: 6px;
            height: 6px;
            background-color: #6c757d;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: scale(1);
                opacity: 0.5;
            }
            30% {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .footer-container {
            background-color: #bc9f7d;
            padding: 0;
            width: 100%;
            margin-top: 50px;
        }

        .main-footer {
            background-color: #dfd8cd;
        }

        .social-section {
            text-align: center;
            padding: 20px 0;
        }

        .social-title {
            color: #fff;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .main-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 10%;
            border-top: 1px solid #d0d6e0;
        }

        .company-info {
            text-align: left;
            color: #555;
        }

        .company-name {
            font-weight: bold;
            color: #4a332f;
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .company-details {
            color: #555;
            font-size: 0.9rem;
            margin: 3px 0;
        }

        .company-copyright {
            color: #555;
            font-size: 0.9rem;
        }

        .footer-links {
            text-align: right;
        }

        .footer-link {
            display: block;
            color: #555;
            text-decoration: none;
            margin: 10px 0;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .footer-link:hover {
            color: #4a332f;
            transform: translateX(-5px);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .support-header h1 {
                font-size: 28px;
            }

            .support-header p {
                font-size: 16px;
            }

            .initial-form {
                padding: 20px;
            }

            .chat-interface {
                height: 400px;
            }

            .message {
                max-width: 85%;
            }

            .main-footer {
                flex-direction: column;
                text-align: center;
                padding: 20px;
            }

            .footer-links {
                text-align: center;
                margin-top: 15px;
            }

            .company-info {
                text-align: center;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <a href="menu.html" class="nav-button">Menu</a>
        <a href="index.html" class="logo">
            <img src="https://i.ibb.co/Mkf2DZ4c/logo-lotus.png" alt="logo-lotus" style="height: 65px; border-radius: 8px;">
        </a>
        <a href="cart.html" class="social-icon">
            <i class="fa fa-cart-shopping"></i>
        </a>
    </nav>

    <div class="container">
        <div class="support-header">
            <h1>Customer Support</h1>
            <p>We're here to help! Tell us about your issue and we'll get back to you as soon as possible.</p>
        </div>

        <div class="chat-container">
            <div class="chat-header">
                <h2>Live Chat Support</h2>
                <p>Our support team typically responds within a few minutes</p>
            </div>

            <!-- Initial Form -->
            <div class="initial-form" id="initialForm">
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required placeholder="Enter your email address">
                </div>

                <div class="form-group">
                    <label for="issueType">Issue Category *</label>
                    <select id="issueType" name="issueType" required>
                        <option value="">Select an issue category</option>
                        <option value="order">Order Issues</option>
                        <option value="payment">Payment Problems</option>
                        <option value="delivery">Delivery Concerns</option>
                        <option value="product">Product Quality</option>
                        <option value="account">Account Issues</option>
                        <option value="technical">Technical Support</option>
                        <option value="general">General Inquiry</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="problemDescription">Describe Your Problem *</label>
                    <textarea id="problemDescription" name="problemDescription" required 
                        placeholder="Please provide detailed information about your issue so we can help you better..."></textarea>
                </div>

                <button type="button" class="start-chat-btn" onclick="startChat()">Start Chat Support</button>
            </div>

            <!-- Chat Interface -->
            <div class="chat-interface" id="chatInterface">
                <div class="chat-messages" id="chatMessages">
                    <!-- Messages will be added here -->
                </div>

                <div class="typing-indicator" id="typingIndicator">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>

                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..." 
                        onkeypress="handleKeyPress(event)">
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fa fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-container">
        <div class="social-section">
            <h3 class="social-title">Follow us on</h3>
            <div class="social-icons">
                <a href="https://www.instagram.com/lotuscoffee.ph?igsh=ZzB4ZWxzY2M1MjRr" class="social-icon">
                    <i class="fab fa-instagram"></i>
                </a>
                <a href="https://www.facebook.com/profile.php?id=61576273525574" class="social-icon">
                    <i class="fab fa-facebook"></i>
                </a>
            </div>
        </div>

        <div class="main-footer">
            <div class="company-info">
                <div class="company-name">LOTUS COFFEE PHILIPPINES INC.</div>
                <div class="company-details">Company registration no: 635-381-780-00000</div>
                <div class="company-info">Recto, Manila</div>
                <div class="company-info">Email: lotusbrewcafe@gmail.com</div>
                <div class="company-copyright">COPYRIGHT 2025 © LOTUS COFFEE</div>
            </div>
            <div class="footer-links">
                <a href="terms.html" class="footer-link">Privacy Policy</a>
                <a href="terms.html" class="footer-link">Terms & Conditions</a>
                <a href="terms.html" class="footer-link">Customer Support</a>
                <a href="return.html" class="footer-link">Refund Policy</a>
                <a href="faq.html" class="footer-link">FAQS</a>
            </div>
        </div>
    </div>

    <script>
        let userEmail = '';
        let issueCategory = '';
        let problemDescription = '';

        function startChat() {
            const email = document.getElementById('email').value.trim();
            const issueType = document.getElementById('issueType').value;
            const description = document.getElementById('problemDescription').value.trim();

            // Validation
            if (!email || !issueType || !description) {
                alert('Please fill in all required fields.');
                return;
            }

            if (!isValidEmail(email)) {
                alert('Please enter a valid email address.');
                return;
            }

            // Store user information
            userEmail = email;
            issueCategory = issueType;
            problemDescription = description;

            // Hide form and show chat
            document.getElementById('initialForm').classList.add('hidden');
            document.getElementById('chatInterface').classList.add('active');

            // Initialize chat with welcome message
            addMessage('support', 'Hello! Thank you for contacting Lotus Brew Café support. I can see you\'re having issues with: ' + issueCategory + '. How can I help you today?');
            
            // Focus on chat input
            document.getElementById('chatInput').focus();
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        function addMessage(sender, text) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', sender);
            
            const now = new Date();
            const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.innerHTML = `
                <div>${text}</div>
                <div class="message-time">${timeString}</div>
            `;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessage('user', message);
            input.value = '';
            
            // Show typing indicator
            showTypingIndicator();
            
            // Simulate support response
            setTimeout(() => {
                hideTypingIndicator();
                generateSupportResponse(message);
            }, 1000 + Math.random() * 2000);
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function showTypingIndicator() {
            document.getElementById('typingIndicator').classList.add('show');
            const messagesContainer = document.getElementById('chatMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            document.getElementById('typingIndicator').classList.remove('show');
        }

        function generateSupportResponse(userMessage) {
            const responses = [
                "I understand your concern. Let me help you with that right away.",
                "Thank you for providing that information. I'm looking into this for you.",
                "I see what you mean. This is definitely something we can resolve together.",
                "That's a great question! Let me provide you with the most accurate information.",
                "I apologize for any inconvenience. We'll make sure to get this sorted out for you.",
                "I've made a note of your issue. Is there anything else you'd like to add?",
                "Thank you for your patience. I'm checking our system for the best solution.",
                "I appreciate you bringing this to our attention. Let me help you resolve this."
            ];
            
            const randomResponse = responses[Math.floor(Math.random() * responses.length)];
            addMessage('support', randomResponse);
        }

        // Auto-resize textarea
        document.getElementById('problemDescription').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight) + 'px';
        });
    </script>
</body>

</html>